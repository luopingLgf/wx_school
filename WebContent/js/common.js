function jsTrim(a){return a.replace(/(^\s*)|(\s*$)/g,"")}function returnFloat0(a){return a=Math.round(parseFloat(a))}function returnFloat1(a){return a=Math.round(10*parseFloat(a))/10,a.toString().indexOf(".")<0&&(a=a.toString()+".0"),a}function returnFloat(a){return a=Math.round(100*parseFloat(a))/100,a.toString().indexOf(".")<0&&(a=a.toString()+".00"),a}function getJsonLength(a){var b=0;for(c in a)b++;return b}function ShowAttention(a){var b,c;$("#attention-dialog").html('<p class="attention">'+a+"</p>"),$("#attention-dialog").show(),b=$("#attention-dialog").height(),c=$(window).height()-50,$("#attention-dialog").css("top",c/2),$("#attention-dialog").css("margin-top",-b/2),setTimeout(function(){$("#attention-dialog").hide(),$("#attention-dialog").css("top",-1e4)},2e3)}function showLoader(a){$("#loader-dialog").html('<div class="ui-loading"></div><p class="loader-text">'+a+"</p>"),$("#loader-dialog").show();var b=$(window).height();$("#loader-dialog").css("top",b/2),$("#loader-dialog").css("margin-top",-80)}function hideLoader(){$("#loader-dialog").hide(),$("#loader-dialog").css("top",-1e4)}function Showremind(a,b,c){var d,e,f;$(".ui-mask").show(),$("#showremind").html('<div id="showremindtitle">'+a+'</div><div id="showremindcontent">'+decodeURIComponent(b)+'</div><div id="showremindconfirm" onclick="HideShowremind();">'+c+"</div>"),$("#showremind").show(),d=$("#showremind").height(),e=$(window).width()-30,f=$(window).height()-50,$("#showremind").css("left",$(window).width()/2),$("#showremind").css("margin-left",-e/2),$("#showremind").css("width",e),$("#showremind").css("top",f/2),$("#showremind").css("margin-top",-d/2)}function Showremindfollow(a,b,c,d){var f,g,h,i;$(".ui-mask").show(),f='<div id="showremindtitle">'+a+"</div>",f+='<div id="closefollowinfo"></div>',f+='<div id="showremindcontent" class="follow-content">'+b+"</div>",f+='<div id="showreminddesc">'+decodeURIComponent(c)+"</div>",""!=d&&(f+='<a href="'+d+'" class="showremindlink">点击立即关注</a>'),$("#showremind").html(f),$("#showremind").show(),g=$("#showremind").height(),h=$(window).width()-30,i=$(window).height()-50,$("#showremind").css("left",$(window).width()/2),$("#showremind").css("margin-left",-h/2),$("#showremind").css("width",h),$("#showremind").css("top",i/2),$("#showremind").css("margin-top",-g/2)}function HideShowremind(){$(".ui-mask").hide(),$("#showremind").hide()}var SwipeSlide3D,SwipeSlide=function(a,b){this.options=$.extend({first:0,visibleSlides:1,vertical:!1,tolerance:.5,delay:.3,easing:"ease-out",autoPlay:!1,useTranslate3d:!0,bulletNavigation:"link",directionalNavigation:!1,beforeChange:null,afterChange:null},b),this.isVertical=!!this.options.vertical,this.container=$(a).addClass("ui-swipeslide").addClass("ui-swipeslide-"+(this.isVertical?"vertical":"horizontal")),this.reel=this.container.children().first().addClass("ui-swipeslide-reel"),this.slides=this.reel.children().addClass("ui-swipeslide-slide"),this.numPages=Math.ceil(this.slides.length/this.options.visibleSlides),this.currentPage=this.validPage(this.options.first),this.touch={},this.isTouch="ontouchstart"in document.documentElement,this.events={start:this.isTouch?"touchstart":"mousedown",move:this.isTouch?"touchmove":"mousemove",end:this.isTouch?"touchend touchcancel touchleave":"mouseup mouseout mouseleave",click:this.isTouch?"touchend":"click"},this.setup(),this.addEventListeners(),this.options.directionalNavigation&&this.setupDirectionalNavigation(),this.options.bulletNavigation&&this.setupBulletNavigation(),this.options.autoPlay&&this.autoPlay()};SwipeSlide.prototype={page:function(a){this.stopAutoPlay();var c,b=this.validPage(a);this.currentPage!=b?($.isFunction(this.options.beforeChange)&&this.options.beforeChange(this,this.currentPage,b),this.currentPage=b,c=$.proxy(this.callback,this)):this.options.autoPlay&&(c=$.proxy(this.autoPlay,this)),this.move(0,this.options.delay,c),this.options.bulletNavigation&&this.setActiveBullet()},first:function(){this.page(0)},next:function(){this.page(this.currentPage+1)},prev:function(){this.page(this.currentPage-1)},last:function(){this.page(this.numPages-1)},isFirst:function(){return 0==this.currentPage},isLast:function(){return this.currentPage==this.numPages-1},validPage:function(a){return Math.max(Math.min(a,this.numPages-1),0)},autoPlay:function(){if(this.timeout)return!1;var a=this.isLast()?this.first:this.next;this.timeout=setTimeout($.proxy(a,this),1e3*this.options.autoPlay)},stopAutoPlay:function(){clearTimeout(this.timeout),delete this.timeout},visibleSlides:function(){return this.slides.slice(this.currentPage,this.currentPage+this.options.visibleSlides)},move:function(a,b,c){this.reel.animate(this.animationProperties(a),{duration:1e3*b,easing:this.options.easing,complete:c})},animationProperties:function(a){var b=-this.currentPage*this.dimension+a+"px",c={};return this.options.useTranslate3d?c["translate3d"]=(this.isVertical?"0,"+b:b+",0")+",0":c[this.isVertical?"translateY":"translateX"]=b,c},setup:function(){var a=this.isVertical?"height":"width";this.dimension=this.container[a](),this.tolerance=this.options.tolerance*this.dimension/2,this.reel[a](this.dimension*this.numPages+"px"),this.slides[a](this.dimension/this.options.visibleSlides+"px"),this.move(0,0)},addEventListeners:function(){this.reel.on(this.events.start,$.proxy(this.touchStart,this)).on(this.events.move,$.proxy(this.touchMove,this)).on(this.events.end,$.proxy(this.touchEnd,this)),this.container.on(this.events.click,".next",$.proxy(this.next,this)).on(this.events.click,".prev",$.proxy(this.prev,this)).on(this.events.click,".first",$.proxy(this.first,this)).on(this.events.click,".last",$.proxy(this.last,this)),$(window).on("resize",$.proxy(this.setup,this))},touchStart:function(a){return this.touch.start=this.trackTouch(a),delete this.isScroll,this.isTouch?void 0:!1},touchMove:function(a){if(this.touch.start){this.touch.end=this.trackTouch(a);var b=this.distance(this.isVertical);return"undefined"==typeof this.isScroll&&(this.isScroll=Math.abs(b)<Math.abs(this.distance(!this.isVertical))),this.isScroll?void 0:(this.stopAutoPlay(),this.move(this.withResistance(b),0),!1)}},touchEnd:function(){if(!this.isScroll){var b=this.distance(this.isVertical),c=0;Math.abs(b)>this.tolerance&&(c=0>b?1:-1),this.page(this.currentPage+c)}return this.touch={},!0},trackTouch:function(a){var b=this.isTouch?a.touches[0]:a;return{x:b.pageX,y:b.pageY}},distance:function(a){var b=a?"y":"x";try{return this.touch.end[b]-this.touch.start[b]}catch(c){return 0}},withResistance:function(a){return(this.isFirst()&&a>0||this.isLast()&&0>a)&&(a/=1+Math.abs(a)/this.dimension),a},callback:function(){$.isFunction(this.options.afterChange)&&this.options.afterChange(this,this.currentPage),this.options.autoPlay&&this.autoPlay()},setupDirectionalNavigation:function(){this.container.append('<ul class="ui-swipeslide-nav"><li class="prev">Previous</li><li class="next">Next</li></ul>')},setupBulletNavigation:function(){for(this.navBullets=$('<ul class="ui-swipeslide-bullets"></ul>'),i=0;i<this.numPages;i++)this.navBullets.append('<li data-index="'+i+'">'+(i+1)+"</li>");"link"==this.options.bulletNavigation&&this.navBullets.on(this.events.click,"li",$.proxy(function(a){this.page(parseInt($(a.currentTarget).data("index"),10))},this)),this.container.append(this.navBullets),this.setActiveBullet()},setActiveBullet:function(){this.navBullets.children("li").removeClass("active").eq(this.currentPage).addClass("active")}},SwipeSlide3D=function(a,b){SwipeSlide.call(this,a,b),this.container.addClass("ui-swipeslide-3d")},SwipeSlide3D.prototype=new SwipeSlide,$.extend(SwipeSlide3D.prototype,{setup:function(){var a=this.isVertical?"height":"width";this.dimension=this.container[a](),this.tolerance=this.options.tolerance*this.dimension/2,this.alpha=360/this.slides.length*(this.isVertical?-1:1),this.radius=Math.round(this.dimension/2/Math.tan(Math.PI/this.slides.length)),this.slides.each($.proxy(this.positionSlide,this)),this.move(0,0)},validPage:function(a){return 0>a?a+=this.numPages:a>=this.numPages&&(a%=this.numPages),a},animationProperties:function(a){var b=this.alpha*a/this.dimension-this.alpha*this.currentPage;return{translate3d:"0,0,"+-this.radius+"px",rotate3d:this.vectorsWithDeg(b)}},positionSlide:function(a,b){$(b).animate({rotate3d:this.vectorsWithDeg(a*this.alpha),translate3d:"0,0,"+this.radius+"px"},{duration:0})},vectorsWithDeg:function(a){return(this.isVertical?"1,0":"0,1")+",0,"+a+"deg"},withResistance:function(a){return a}}),function(a){a.fn.swipeSlide=function(b){var c=(b=b||{}).threeD?SwipeSlide3D:SwipeSlide;return this.each(function(){var d=new c(this,b);"string"==typeof a(this).data("swipeInstance",d).data("swipeInstance")&&a(this).removeAttr("data-swipeInstance")})}}(window.Zepto);